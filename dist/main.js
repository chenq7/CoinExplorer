!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0),i(1);function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=function(){function t(e,i,s,n,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=s,this.width=n/25,this.height=h/18,this.position={x:e,y:i},this.renderTile()}var e,i,n;return e=t,(i=[{key:"renderTile",value:function(){var t=new Image;t.src="./src/images/tiles/01.png",this.ctx.drawImage(t,this.position.x,this.position.y,this.width,this.height)}}])&&s(e.prototype,i),n&&s(e,n),t}();function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(e,i,s,n){var h=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameWidth=e,this.gameHeight=i,this.characterWidth=this.gameWidth/25-.01,this.characterHeight=this.gameHeight/18-.01,this.jumping=!1,this.x_velocity=0,this.y_velocity=0,this.position={x:s,y:n},this.prevPosition={x:s,y:n},this.setSound(),this.setImage(),this.left=!1,this.right=!1,this.up=!1,document.addEventListener("keydown",(function(t){switch(t.keyCode){case 37:h.left=!0;break;case 32:case 38:h.up=!0;break;case 39:h.right=!0}})),document.addEventListener("keyup",(function(t){switch(t.keyCode){case 37:h.left=!1;break;case 32:case 38:h.up=!1;break;case 39:h.right=!1}}))}var e,i,s;return e=t,(i=[{key:"getLeft",value:function(){return this.position.x}},{key:"getRight",value:function(){return this.position.x+this.characterWidth}},{key:"getTop",value:function(){return this.position.y}},{key:"getBottom",value:function(){return this.position.y+this.characterHeight}},{key:"getPrevLeft",value:function(){return this.prevPosition.x}},{key:"getPrevRight",value:function(){return this.prevPosition.x+this.characterWidth}},{key:"getPrevTop",value:function(){return this.prevPosition.y}},{key:"getPrevBottom",value:function(){return this.prevPosition.y+this.characterHeight}},{key:"setLeft",value:function(t){this.position.x=t}},{key:"setRight",value:function(t){this.position.x=t-this.characterWidth}},{key:"setTop",value:function(t){this.position.y=t}},{key:"setBottom",value:function(t){this.position.y=t-this.characterHeight}},{key:"setPrevLeft",value:function(t){this.prevPosition.x=t}},{key:"setPrevRight",value:function(t){this.prevPosition.x=t-this.characterWidth}},{key:"setPrevTop",value:function(t){this.prevPosition.y=t}},{key:"setPrevBottom",value:function(t){this.prevPosition.y=t-this.characterHeight}},{key:"setSound",value:function(){this.coinSound=new Audio("./src/audio/sound/coin-sound.mp3"),this.coinSound.volume=.3,this.jumpSound=new Audio("./src/audio/sound/jump.mp3"),this.jumpSound.volume=.7}},{key:"setImage",value:function(){this.characterImage=new Image,this.characterImage.src="./src/images/slime/slime.png",this.leftImage=new Image,this.leftImage.src="./src/images/slime/left-slime.png",this.rightImage=new Image,this.rightImage.src="./src/images/slime/right-slime.png"}},{key:"play",value:function(t){t.pause(),t.currentTime=0,t.play()}},{key:"renderCharacter",value:function(t){t.drawImage(this.characterImage,this.position.x,this.position.y,this.characterWidth,this.characterHeight)}},{key:"updateCharacter",value:function(){this.up&&0==this.jumping&&(this.play(this.jumpSound),this.y_velocity-=this.gameHeight/20,this.jumping=!0),this.left&&(this.characterImage=this.leftImage,this.x_velocity-=.9),this.right&&(this.characterImage=this.rightImage,this.x_velocity+=.9),this.y_velocity+=1.3,this.prevPosition.x=this.position.x,this.prevPosition.y=this.position.y,this.position.x+=this.x_velocity,this.position.y+=this.y_velocity,this.x_velocity*=.85,this.y_velocity*=.85}},{key:"update",value:function(t,e,i,s){var n,h,o,r,a;this.updateCharacter(),this.handleEdgeCollision();var c=this.gameWidth/25,l=this.gameHeight/18;return o=Math.floor(this.getTop()/l),n=Math.floor(this.getLeft()/c),a=t[o][n],this.handleTileCollision(a,n*c,o*l,c),o=Math.floor(this.getTop()/l),h=Math.floor(this.getRight()/c),a=t[o][h],this.handleTileCollision(a,h*c,o*l,c),r=(r=Math.floor(this.getBottom()/l))>17?17:r,n=Math.floor(this.getLeft()/c),a=t[r][n],this.handleTileCollision(a,n*c,r*l,c),r=(r=Math.floor(this.getBottom()/l))>17?17:r,h=Math.floor(this.getRight()/c),a=t[r][h],this.handleTileCollision(a,h*c,r*l,c),this.getBottom()>this.gameHeight&&this.setBottom(this.gameHeight),!!this.handleMonsterCollision(s)||!!this.handleSpikeCollision(i)||this.handleCoinCollision(e)}},{key:"handleEdgeCollision",value:function(){this.getLeft()<0&&(this.setPrevLeft(this.getLeft()),this.setLeft(0)),this.getRight()>this.gameWidth&&(this.setPrevRight(this.getRight()),this.setRight(this.gameWidth)),this.getTop()<0&&(this.setPrevTop(this.getTop()),this.setTop(0)),this.getBottom()>this.gameHeight&&(this.setPrevBottom(this.getBottom()),this.setBottom(this.gameHeight),this.jumping=!1)}},{key:"handleCoinCollision",value:function(t){for(var e=0;e<t.length;e++)this.getLeft()<t[e].position.x+t[e].width&&this.getLeft()+t[e].width>t[e].position.x&&this.getTop()<t[e].position.y+t[e].height&&this.getBottom()>t[e].position.y&&(this.play(this.coinSound),t.splice(e,1));return t}},{key:"handleSpikeCollision",value:function(t){for(var e=0;e<t.length;e++)if(this.getLeft()<t[e].position.x+t[e].width&&this.getLeft()+t[e].width>t[e].position.x&&this.getTop()<t[e].position.y+t[e].height&&this.getBottom()>t[e].position.y)return!0;return!1}},{key:"handleMonsterCollision",value:function(t){for(var e=0;e<t.length;e++)if(this.getLeft()<t[e].position.x+t[e].width&&this.getRight()>t[e].position.x&&this.getTop()<t[e].position.y+t[e].height&&this.getBottom()>t[e].position.y)return!0;return!1}},{key:"handleTileCollision",value:function(t,e,i,s){if(t instanceof Object&&t instanceof n){if(this.topTileCollision(i))return;if(this.leftTileCollision(e))return;if(this.rightTileCollision(e+s))return}}},{key:"topTileCollision",value:function(t){return this.getBottom()>t&&this.getPrevBottom()<=t&&(this.setPrevBottom(this.getBottom()),this.setBottom(t-.01),this.jumping=!1,!0)}},{key:"leftTileCollision",value:function(t){return this.getRight()>t&&this.getPrevRight()<=t&&(this.setPrevRight(this.getRight()),this.setRight(t-.01),!0)}},{key:"rightTileCollision",value:function(t){return this.getLeft()<t&&this.getPrevLeft()>=t&&(this.setPrevLeft(this.getLeft()),this.setLeft(t),!0)}},{key:"bottomTileCollision",value:function(t){return this.getTop()<t&&this.getPrevTop()>=t&&(this.setPrevTop(this.getTop()),this.setTop(t),!0)}}])&&h(e.prototype,i),s&&h(e,s),t}();function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=function(){function t(e,i,s,n,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=s,this.width=n/25,this.height=h/18,this.position={x:e,y:i},this.renderCoin()}var e,i,s;return e=t,(i=[{key:"renderCoin",value:function(){var t=new Image;t.src="./src/images/items/coin-gold.png",this.ctx.drawImage(t,this.position.x,this.position.y,this.width,this.height)}}])&&r(e.prototype,i),s&&r(e,s),t}();function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(e,i,s,n,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=s,this.width=n/25,this.height=h/48,this.position={x:e,y:i+5*this.height/3},this.renderSpike()}var e,i,s;return e=t,(i=[{key:"renderSpike",value:function(){var t=new Image;t.src="./src/images/tiles/spikes1.png",this.ctx.drawImage(t,this.position.x,this.position.y,this.width,this.height)}}])&&c(e.prototype,i),s&&c(e,s),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var y=function(){function t(e,i,s,n,h){p(this,t),this.position={x:e,y:i},this.ctx=s,this.gameWidth=n,this.gameHeight=h}var e,i,s;return e=t,(i=[{key:"setImage",value:function(t,e){this.leftImage=new Image,this.leftImage.src=t,this.rightImage=new Image,this.rightImage.src=e,this.monster=this.leftImage}},{key:"renderMonster",value:function(){this.handleEdgeCollision(),this.position.x-=this.speed,this.ctx.drawImage(this.monster,this.position.x,this.position.y,this.width,this.height)}},{key:"handleEdgeCollision",value:function(){this.position.x<0&&(this.position.x=0,this.speed*=-1,this.monster=this.rightImage),this.position.x+this.width>this.gameWidth&&(this.position.x=this.gameWidth-this.width,this.speed*=-1,this.monster=this.leftImage)}}])&&v(e.prototype,i),s&&v(e,s),t}(),x=function(t){function e(t,i,s,n,h){var o;p(this,e),(o=g(this,m(e).call(this,t,i,s,n,h))).speed=1.5,o.width=n/25,o.height=h/18;return o.setImage("./src/images/monsters/left-snail.png","./src/images/monsters/right-snail.png"),o.renderMonster(),o}return d(e,t),e}(y),S=function(t){function e(t,i,s,n,h){var o;p(this,e),(o=g(this,m(e).call(this,t,i,s,n,h))).speed=1.8,o.width=n/27.778,o.height=h/18.4615,o.position.y=o.position.y-(o.height-h/18);return o.setImage("./src/images/monsters/left-fairy.png","./src/images/monsters/right-fairy.png"),o.renderMonster(),o}return d(e,t),e}(y),k=function(t){function e(t,i,s,n,h){var o;p(this,e),(o=g(this,m(e).call(this,t,i,s,n,h))).speed=2.5,o.width=n/50*3,o.height=h/14.4,o.position.y=o.position.y-(o.height-h/18);return o.setImage("./src/images/monsters/left-pig.png","./src/images/monsters/right-pig.png"),o.renderMonster(),o}return d(e,t),e}(y);function b(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var w=function(){function t(e,i,s,n,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=s,this.currLevel=h,this.gameWidth=e,this.gameHeight=i,this.board=n,this.coinsArr=[],this.tilesArr=[],this.spikesArr=[],this.monsters=[],this.tree=new Image,this.tree.src="./src/images/bg/sakura.png",this.grass=new Image,this.grass.src="./src/images/tiles/grass.png",this.initializeBoard()}var e,i,s;return e=t,(i=[{key:"initializeBoard",value:function(){for(var t,e,i,s=0;s<this.board.length;s++){i=[];for(var h=0;h<this.board[0].length;h++)if(e=s*this.gameHeight/18,t=h*this.gameWidth/25,"#"===this.board[s][h]){var r=new n(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(r),this.tilesArr.push(r)}else if("P"===this.board[s][h])this.character=new o(this.gameWidth,this.gameHeight,t,e),i.push(this.character);else if("C"===this.board[s][h]){var c=new a(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(c),this.coinsArr.push(c)}else if("S"===this.board[s][h]){var u=new l(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(u),this.spikesArr.push(u)}else if("Z"===this.board[s][h]){var g=new x(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(g),this.monsters.push(g)}else if("X"===this.board[s][h]){var m=new S(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(m),this.monsters.push(m)}else if("V"===this.board[s][h]){var d=new k(t,e,this.ctx,this.gameWidth,this.gameHeight);i.push(d),this.monsters.push(d)}else i.push(" ");this.board[s]=i}this.numCoins=this.coinsArr.length}},{key:"updateBoard",value:function(t){if(t){1===this.currLevel&&(this.ctx.drawImage(this.tree,40,-20,175,300),this.ctx.drawImage(this.tree,900,80,120,200));for(var e=0;e<this.tilesArr.length;e++)this.tilesArr[e].renderTile();for(var i=0;i<this.coinsArr.length;i++)this.coinsArr[i].renderCoin();for(var s=0;s<this.spikesArr.length;s++)this.spikesArr[s].renderSpike();for(var n=0;n<this.monsters.length;n++)this.monsters[n].renderMonster();var h=this.coinsArr.length,o=this.character.update(this.board,this.coinsArr,this.spikesArr,this.monsters);return"boolean"==typeof o||(this.coinsArr=o,this.character.renderCharacter(this.ctx),h-this.coinsArr.length)}}}])&&b(e.prototype,i),s&&b(e,s),t}();function C(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.gameWidth=e.width,this.gameHeight=e.height,this.gameRunning=!1,this.currentLevel=1,this.numDeaths=0,this.muted=!1,this.setSound(),this.renderHomeScreen(),this.addListeners()}var e,i,s;return e=t,(i=[{key:"setSound",value:function(){this.menuMusic=new Audio("./src/audio/music/main-menu.mp3"),this.menuMusic.volume=.2,this.menuMusic.loop=!0,this.gameMusic=new Audio("./src/audio/music/background.mp3"),this.gameMusic.volume=.4,this.gameMusic.loop=!0,this.winMusic=new Audio("./src/audio/music/victory.mp3"),this.winMusic.loop=!0,this.winMusic.volume=.15,this.selectSound=new Audio("./src/audio/sound/select.wav")}},{key:"play",value:function(t){this.muted||(t.pause(),t.currentTime=0,t.play())}},{key:"pauseAllMusic",value:function(){this.menuMusic.pause(),this.gameMusic.pause(),this.winMusic.pause()}},{key:"addListeners",value:function(){var t=this;document.addEventListener("click",(function(e){t.gameRunning||t.muted||t.menuMusic.play()})),document.addEventListener("keydown",(function(e){77===e.keyCode&&(t.muted?(t.gameRunning?t.gameMusic.play():t.menuMusic.play(),t.muted=!1):(t.pauseAllMusic(),t.muted=!0))}))}},{key:"renderHomeScreen",value:function(){this.ctx.clearRect(0,0,this.gameWidth,this.gameHeight);var t=this.gameWidth>900?80:65;this.ctx.font="bold ".concat(t,"px Arial"),this.ctx.fillStyle="yellow",this.ctx.fillText("COIN EXPLORER",.17*this.gameWidth,this.gameHeight/2.4),this.ctx.strokeStyle="blue",this.ctx.lineWidth=2,this.ctx.strokeText("COIN EXPLORER",.17*this.gameWidth,this.gameHeight/2.4),this.ctx.fillStyle="blue",this.ctx.font="bold 30px Arial",this.ctx.fillText("Press Enter to Begin!",this.gameWidth/2.857,this.gameHeight/1.44),this.ctx.font="bold 20px Arial",this.ctx.fillText("Press esc to go back to home screen",this.gameWidth/2.941,this.gameHeight/1.2857);var e=new Image;e.src="./src/images/items/coin-gold.png",e.onload=function(){this.ctx.drawImage(e,.28*this.gameWidth,this.gameHeight/1.532,40,40)}.bind(this);var i=new Image;i.src="./src/images/slime/slime.png",i.onload=function(){this.ctx.drawImage(i,.28*this.gameWidth,this.gameHeight/1.3585,40,40)}.bind(this),this.checkEnter=this.checkEnter.bind(this),document.addEventListener("keydown",this.checkEnter)}},{key:"checkEnter",value:function(t){13===t.keyCode&&(this.play(this.selectSound),document.removeEventListener("keydown",this.checkEnter),this.currentLevel=1,this.newGame())}},{key:"checkEsc",value:function(t){27===t.keyCode&&(document.removeEventListener("keydown",this.checkEsc),document.removeEventListener("keydown",this.checkRestart),this.gameRunning=!1,this.pauseAllMusic(),this.play(this.selectSound),this.play(this.menuMusic),this.renderHomeScreen())}},{key:"renderGameOver",value:function(){this.ctx.clearRect(0,0,this.gameWidth,this.gameHeight),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.gameWidth,this.gameHeight);var t=this.gameWidth>900?80:65,e=this.gameWidth>900?30:25,i=this.gameWidth>900?20:15;this.ctx.font="bold ".concat(t,"px Arial"),this.ctx.fillStyle="white",this.ctx.fillText("GAME OVER",.25*this.gameWidth,this.gameHeight/2.4),this.ctx.font="bold ".concat(e,"px Arial"),this.ctx.fillText("Press r key to retry level",.325*this.gameWidth,this.gameHeight/1.44),this.ctx.font="bold ".concat(i,"px Arial"),this.ctx.fillText("Press esc to go back to home screen",.325*this.gameWidth,this.gameHeight/1.2857);var s=new Image;s.onload=function(){this.ctx.drawImage(s,.73*this.gameWidth,this.gameHeight/1.44,.298*this.gameWidth,this.gameHeight/3.6)}.bind(this),s.src="./src/images/slime/sad-slime.png",this.checkRestart=this.checkRestart.bind(this),document.addEventListener("keydown",this.checkRestart)}},{key:"checkRestart",value:function(t){82===t.keyCode&&(this.play(this.selectSound),document.removeEventListener("keydown",this.checkRestart),this.gameRunning=!0,this.newGame())}},{key:"renderWin",value:function(){this.gameMusic.pause(),this.play(this.winMusic),this.ctx.clearRect(0,0,this.gameWidth,this.gameHeight),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.gameWidth,this.gameHeight);var t=this.gameWidth>900?80:65,e=this.gameWidth>900?30:25,i=this.gameWidth>900?20:15;this.ctx.font="bold ".concat(t,"px Arial"),this.ctx.fillStyle="white",this.ctx.fillText("YOU WIN!",.305*this.gameWidth,this.gameHeight/3.6),this.ctx.font="bold ".concat(e,"px Arial"),this.ctx.fillText("Congrats on beating the game!",.28*this.gameWidth,this.gameHeight/1.5),this.ctx.fillStyle="blue",this.ctx.fillText("You died a total of ".concat(this.numDeaths," times"),.322*this.gameWidth,this.gameHeight/1.2857),this.ctx.fillStyle="white",this.ctx.font="bold ".concat(i,"px Arial"),this.ctx.fillText("Press esc to go back to home screen",.325*this.gameWidth,this.gameHeight/1.125);var s=new Image;s.onload=function(){this.ctx.drawImage(s,.43*this.gameWidth,this.gameHeight/2.88,.139*this.gameWidth,this.gameHeight/4.832)}.bind(this),s.src="./src/images/items/chest-gold-close.png"}},{key:"newGame",value:function(){this.gameRunning||(this.menuMusic.pause(),this.play(this.gameMusic),this.numDeaths=0),document.removeEventListener("keydown",this.checkEsc),this.checkEsc=this.checkEsc.bind(this),document.addEventListener("keydown",this.checkEsc),this.ctx.fillStyle="black",this.gameRunning=!0,this.coins=0,this.time=60,this.prevTime=0,this.levels=[[],["                         ","       C C C C C C       ","       ############      ","     #                   ","   #                     "," #                    X  ","                         ","###################    ##","                    ##   ","C     C C C C C C C      ","#     #############      ","##C                      ","####S               SSSSS","###### C            #####","       #                 ","         #               ","               P        V","#########################"],["                         ","                         ","                C   C    ","               ##   #   X","             C           ","            ##           ","          C              ","         ##              ","       C                 ","      ##    SSSSSSSSSSSSS","   C        #############","   ##                    ","       C                 ","       ##                ","           C            X","           ##            ","               P         ","#SSSSSSSSSSSSS###SSSSSSSS"],["                         ","                        X","CCCC                     ","####                     ","      ##   C             ","           ##  C         ","         C     ##        ","        ##        C     C","      C           ##     ","     ##                 S","                      ###","  SC                     ","  ##            CS ##    ","      CS       ###       ","      ##   C             ","           ##            ","               P         ","#SSSSSSSSSSSSS###SSSSSSSS"],[" P                       ","####                     ","       C   C   C   C   C ","      ##   #   #   #   #X","                         ","                         ","             C           ","             #           ","        C         C      ","        #    C    #      ","             #           ","        C                ","        #             X  ","             C           ","             #           ","                 C       ","                 #       ","SSSSSSSSSSSSSSSSSSSSSSSSS"],["                         ","                         ","                         ","                         ","                         ","                         ","                         ","                         ","P   Z   Z   Z   Z   Z  ZC","#########################","                         ","                         ","                         ","                         ","                         ","                         ","                         ","                         "]],this.maxLevel=this.levels.length-1,this.board=new w(this.gameWidth,this.gameHeight,this.ctx,this.levels[this.currentLevel],this.currentLevel),this.gameLoop=this.gameLoop.bind(this),this.gameLoop()}},{key:"gameLoop",value:function(t){if(this.gameRunning){var e=t-this.prevTime;this.prevTime=t,this.ctx.clearRect(0,0,this.gameWidth,this.gameHeight),this.renderDeaths(this.numDeaths),this.renderCoins(this.coins);var i=this.board.updateBoard(e);if("boolean"==typeof i)return this.numDeaths+=1,void this.renderGameOver();this.coins+=isNaN(i)?0:i,this.coins>=this.board.numCoins?this.currentLevel<this.maxLevel?(this.currentLevel+=1,this.newGame()):this.renderWin():requestAnimationFrame(this.gameLoop)}}},{key:"renderDeaths",value:function(t){this.ctx.font="20px Arial",this.ctx.fillText("Deaths:",10,30),this.ctx.fillText(t,90,30)}},{key:"renderCoins",value:function(t){this.ctx.font="20px Arial",this.ctx.fillText("Coins:",this.gameWidth-110,30),this.ctx.fillText(t,this.gameWidth-40,30)}}])&&C(e.prototype,i),s&&C(e,s),t}(),W=document.getElementById("game-canvas");window.matchMedia("(max-width: 1280px)").matches&&(W.height="612",W.width="850"),document.addEventListener("DOMContentLoaded",(function(){new T(W)}))}]);
//# sourceMappingURL=main.js.map